### ESP8266 Simulator
Пособие по использованию симулятора.

#### Requirements
Симулятор работает на основе двух библиотек:
* sfml - https://www.sfml-dev.org/tutorials/2.6/start-linux.php
* etl  - https://github.com/ETLCPP/etl

Для sfml нужны следующие библиотеки, которые можно установить выполнив следующий код в терминале:

```
sudo apt update
sudo apt install \
    libxrandr-dev \
    libxcursor-dev \
    libudev-dev \
    libopenal-dev \
    libflac-dev \
    libvorbis-dev \
    libgl1-mesa-dev \
    libegl1-mesa-dev \
    libdrm-dev \
    libgbm-dev
```

Для etl никаких дополнительных действий не нужно.

С Божьей помощью у Вас возможно соберется проект...... Аминь

#### Building
Первая сборка займет **очень** много времени. Это нормально, так как в это время клонируются все исходники sfml & etl. Не переживайте, если кажется что cmake завис. 

```
cmake -B build
```

Выполняется один раз.

```
cmake --build build/
```
Команда для сборки проекта.


#### Usage 
```
./build/esp_sim
```
Запустит графическое окно.

На данный момент приложение можно запускать только из корневой директории (иначе приложения упадет, так как не сможет найти assets/)

Управление в симуляторе происходит кнопками: W,A,S,D Enter


#### Writing new app
Для написания своего проекта Вам нужны будут:

<sdl/sdl_like.hpp> - для работы с графикой


<app.hpp> - для работы с Вашим приложением

Другие инклюды (кроме etl) нужно избегать.

Пошаговая инструкция по созданию своего приложения:

1) в папке lib/ создайте папку со своим приложением.
    В этой папке создайте "ВашеПриложение".cpp & "ВашеПриложение".hpp (в хедере сразу же можно включить <app.hpp>)

2) Для сборки вашего приложения:


    -)в lib/CMakeList.txt в LIB_SOURCE добавьте Ваши исходники (.сpp файлы) (по аналогии с тем как они уже там есть)


    -)в lib/CMakeList.txt в LIB_INCLUDE добавьте имя созданной Вами папки, что бы стали видны .hpp файлы (опять по аналогии с уже добавленными файлами)

3) в lib/app/app.hpp добавьте в enum AppList константу k[Имя Вашего приложения]

4) Ваше приложение должно содержать функцию, которая будет принимать sdl::Key - нажатую кнопку и возвращать AppList - следующее приложение, которому нужно передать управление (возвращать свою константу, если не хотите передавать контроль другому приложению). Данная функция является основой приложения. Это функция будет вызываться **каждый раз**, когда работает ваше приложение.

*Note: один вызов данной функции соответствуют ~ одному кадру
(на самом деле нет, но полезно думать именно так)

Напишите данную функция в .cpp из п1) и добавьте ее объявление в .hpp из п1)

5) В src/main.cpp нужно зарегистрировать Ваше приложение. Для этого добавьте в массив gApps: [k"ВашеПриложение"] = {"ФункцияИзПункта4"}

и не забудьте сделать #include <.hpp> Вашего хедера из п1)

6) Добавьте Ваше приложение в основное меню: lib/menu/menu.cpp.

За деталями обращаться к @so_snow


P.s Для примера обращайтесь к **pong**
P.s.s При выходе из приложения рекомендуется возвращать GetPrevApp();